# PuddlePeeker

record(ai, "$(P):$(DEV):AI0") {
   field(DESC, "Water level 1")
   field(SCAN, "1 second")
   field(LOW, "$(LOW)")
   field(LSV, "MINOR")
   field(PREC, "2")
   field(ADEL, "0.1")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(0) $(PORT)")
}
record(ai, "$(P):$(DEV):AI1") {
   field(DESC, "Water level 2")
   field(SCAN, "1 second")
   field(LOW, "$(LOW)")
   field(LSV, "MINOR")
   field(PREC, "2")
   field(ADEL, "0.1")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(1) $(PORT)")
}
record(ai, "$(P):$(DEV):AI2") {
   field(DESC, "Water level 3")
   field(SCAN, "1 second")
   field(LOW, "$(LOW)")
   field(LSV, "MINOR")
   field(ADEL, "0.1")
   field(PREC, "2")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(2) $(PORT)")
}
record(ai, "$(P):$(DEV):AI3") {
   field(DESC, "Arduino analog pin 3")
   field(SCAN, "1 second")
   field(PREC, "2")
   field(ADEL, "0.1")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(3) $(PORT)")
}
record(ai, "$(P):$(DEV):AI4") {
   field(DESC, "Arduino analog pin 4")
   field(SCAN, "1 second")
   field(PREC, "2")
   field(ADEL, "0.1")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(4) $(PORT)")
}
record(ai, "$(P):$(DEV):AI5") {
   field(DESC, "Arduino analog pin 5")
   field(SCAN, "1 second")
   field(PREC, "2")
   field(ADEL, "0.1")
   field(EGU, "V")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_analog(5) $(PORT)")
}

record (bo, "$(P):$(DEV):DO2") {
   field(DESC, "Arduino digital out 2")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(DTYP, "stream")
   field(OUT, "@PuddlePeeker.proto set_bit(2) $(PORT)")
}
record (bo, "$(P):$(DEV):DO3") {
   field(DESC, "Arduino digital out 3")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(DTYP, "stream")
   field(OUT, "@PuddlePeeker.proto set_bit(3) $(PORT)")
}

record (bo, "$(P):$(DEV):DO4") {
   field(DESC, "Arduino digital out 4")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(DTYP, "stream")
   field(OUT, "@PuddlePeeker.proto set_bit(4) $(PORT)")
}
record (bi, "$(P):$(DEV):DI5") {
   field(DESC, "Arduino digital in 5")
   field(SCAN, "1 second")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_bit(5) $(PORT)")
}
record (bi, "$(P):$(DEV):DI6") {
   field(DESC, "Arduino digital in 6")
   field(SCAN, "1 second")
   field(DTYP, "stream")
   field(INP, "@PuddlePeeker.proto get_bit(6) $(PORT)")
}



record (calc, "$(P):$(DEV):Alrm") {
   field(DESC, "Water in the vertical cryostat hole")
   field(INPA, "$(P):$(DEV):AI0.SEVR MS")
   field(INPB, "$(P):$(DEV):AI1.SEVR MS")
   field(INPC, "$(P):$(DEV):AI2.SEVR MS")
   field(CALC, "(A&1)+((B&1)<<1)+((C&1)<<2)")
   field(HIGH, "1.5")
   field(HIHI, "3.5")
   field(HSV, "MINOR")
   field(HHSV, "MAJOR")
   field(SCAN, "1 second")
}
