# Lidar device

record(ai, "Cryo-Rec:LP:GasBagLidar") {
   field (DESC, "Distance sensor: to gas bag")
   field (EGU, "cm")
   field (DTYP, "stream")
   field (LOPR, "0")
   field (HOPR, "300.0")
   field (PREC, "0")
   field (LOW, "150.0")
   field (LOLO, "100.0")
   field (LSV, "MINOR")
   field (LLSV, "MAJOR")
   field (INP, "@Lidar.proto get_distance(Cryo-Rec:LP:GasBagLidar-strength) $(PORT2)")
   field (FLNK, "Cryo-Rec:LP:GasBagLidar-smooth")
   field (SCAN, "5 second")
}
record(ai, "Cryo-Rec:LP:GasBagLidar-strength") {
   field (DESC, "Distance sensor: signal strength")
#   field (EGU, "cm")
   field (LOPR, "0")
   field (HOPR, "600.0")
   field (PREC, "1")
   field (LOW, "150.0")
   field (LOLO, "50.0")
   field (LSV, "MINOR")
   field (LLSV, "MAJOR")
}

record(ai, "Cryo-Rec:LP:GasBagLidar-smooth") {
   field (DESC, "Distance sensor- balloon")
   field (EGU, "cm")
   field (DTYP, "Raw Soft Channel")
   field (LOPR, "0")
   field (HOPR, "300.0")
   field (SMOO, "0.95")
   field (PREC, "1")
   field (INP, "Cryo-Rec:LP:GasBagLidar")
 }

record(calc, "Cryo-Rec:LP:GasBagLidar-rate") {
  field (SCAN, "60 second")
  field (DESC,"Rate of gas bag height change")
  field (INPA, "Cryo-Rec:LP:GasBagLidar-smooth")
  field (INPB, "Cryo-Rec:LP:GasBagLidar-rate.LA")
  field (CALC, "B-A")
  field (EGU, "cm/min")
}

#record(ai, "Env-CmpRoom:TT002:sRdV") {
#   field (DESC, "Temperature above the baloon")
#   field (EGU, "áµ’C")
#   field (DTYP, "stream")
#   field (LOPR, "10.0")
#   field (HOPR, "30.0")
#   field (PREC, "2")
#   field (INP, "@Lidar.proto get_temperature $(PORT2)")
#   field (SCAN, "5 second")
#}

